---
ms.openlocfilehash: 9003823c27252dbc930124341e683a3d24ad33d5
ms.sourcegitcommit: cc419b18821783e2dffd74123baf355c1ef97243
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/14/2019
ms.locfileid: "57806213"
---
<span data-ttu-id="6d568-101">Když jsme teď připojení ke zdroji dat pomocí **Microsoft Power BI Desktopu**, potřebujeme data upravit tak, aby odpovídala našim požadavkům.</span><span class="sxs-lookup"><span data-stu-id="6d568-101">Now that we've connected to a data source by using **Microsoft Power BI Desktop**, we must adjust the data to meet our needs.</span></span> <span data-ttu-id="6d568-102">Úprava někdy znamená *transformaci* dat, jako je přejmenování sloupců nebo tabulek, převod textu na čísla, odebrání řádků nebo nastavení prvního řádku jako záhlaví.</span><span class="sxs-lookup"><span data-stu-id="6d568-102">Sometimes, adjusting means *transforming* the data by, for example, renaming columns or tables, changing text to numbers, removing rows, or setting the first row as a header.</span></span>

<span data-ttu-id="6d568-103">**Editor Power Query** v Power BI Desktopu má úlohy dostupné na pásu karet a navíc hojně využívá místní nabídky (také se jim říká nabídky zobrazované po kliknutí pravým tlačítkem nebo kontextové nabídky).</span><span class="sxs-lookup"><span data-stu-id="6d568-103">**Power Query Editor** in Power BI Desktop makes extensive use of shortcut menus (also known as right-click or context menus), in addition to having tasks available on the ribbon.</span></span> <span data-ttu-id="6d568-104">Většina toho, co můžete vybrat na kartě **Transformace** na pásu karet, je taká dostupná po kliknutí pravým tlačítkem na položku (jako je sloupec) a potom vybráním příkazu z místní nabídky, která se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="6d568-104">Most of what you can select on the **Transform** tab on the ribbon is also available by right-clicking an item (like a column) and then selecting a command on the shortcut menu that appears.</span></span>

## <a name="shape-data"></a><span data-ttu-id="6d568-105">Formování dat</span><span class="sxs-lookup"><span data-stu-id="6d568-105">Shape data</span></span>
<span data-ttu-id="6d568-106">Když *formujete* data v **editoru Power Query**, poskytujete podrobné pokyny, které **editor Power Query** provede za vás k úpravě dat při jejich načítání a prezentování.</span><span class="sxs-lookup"><span data-stu-id="6d568-106">When you *shape* data in **Power Query Editor**, you're providing step-by-step instructions that **Power Query Editor** will carry out to adjust the data as it loads and presents it.</span></span> <span data-ttu-id="6d568-107">Původní zdroj dat není ovlivněn.</span><span class="sxs-lookup"><span data-stu-id="6d568-107">The original data source isn't affected.</span></span> <span data-ttu-id="6d568-108">Pouze toto zobrazení dat se upravuje (neboli *formuje*).</span><span class="sxs-lookup"><span data-stu-id="6d568-108">Only this particular view of the data is adjusted, or *shaped*.</span></span>

<span data-ttu-id="6d568-109">Kroky, které zadáte (třeba přejmenování tabulky, transformace datového typu nebo odstranění sloupců), jsou zaznamenány **editorem Power Query**.</span><span class="sxs-lookup"><span data-stu-id="6d568-109">The steps you specify (for example, rename a table, transform a data type, or delete columns) are recorded by **Power Query Editor**.</span></span> <span data-ttu-id="6d568-110">Tyto kroky se pak provádějí pokaždé, když je dotaz připojen ke zdroji dat, aby byla data vždy formována způsobem, který zadáte.</span><span class="sxs-lookup"><span data-stu-id="6d568-110">Those steps are then carried out each time the query connects to the data source, so that the data is always shaped the way you specify.</span></span> <span data-ttu-id="6d568-111">Tento proces se provádí při každém použití dotazu v Power BI Desktopu nebo vždy, když někdo jiný použije váš sdílený dotaz (například ve službě **Power BI**).</span><span class="sxs-lookup"><span data-stu-id="6d568-111">This process occurs whenever you use the query in Power BI Desktop, or whenever anyone else uses your shared query (for example, in the **Power BI service**).</span></span> <span data-ttu-id="6d568-112">Tyto kroky se zaznamenávají v zadaném pořadí v podokně **Nastavení editoru Power Query** v seznamu **Použitý postup**.</span><span class="sxs-lookup"><span data-stu-id="6d568-112">The steps are captured sequentially under **Applied Steps** in the **Power Query Settings** pane.</span></span>

<span data-ttu-id="6d568-113">Na následujícím obrázku vidíme podokno **Nastavení dotazů** pro dotaz, který byl formován.</span><span class="sxs-lookup"><span data-stu-id="6d568-113">The following image shows the **Query Settings** pane for a query that has been shaped.</span></span> <span data-ttu-id="6d568-114">V několika dalších odstavcích si projdeme jednotlivé kroky.</span><span class="sxs-lookup"><span data-stu-id="6d568-114">We'll go through each of the steps in the next few paragraphs.</span></span>

![Nastavení dotazů po dokončení](../media/pbid-clean-xform_01.png)

<span data-ttu-id="6d568-116">Teď se vraťme zpátky k našim důchodovým datům, která jsme našli připojením k **webovému** zdroji dat, a pojďme tato data formovat podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="6d568-116">Let's return to the retirement data that we found by connecting to a **Web** data source, and let's shape that data to fit our needs.</span></span>

<span data-ttu-id="6d568-117">Pro začátek: většina hodnocení byla přenesena do **editoru Power Query** jako celá čísla, ale některá ne.</span><span class="sxs-lookup"><span data-stu-id="6d568-117">For starters, most of the ratings were brought into **Power Query Editor** as whole numbers, but some weren't.</span></span> <span data-ttu-id="6d568-118">Protože jeden sloupec obsahoval text a čísla, nebyl automaticky převeden.</span><span class="sxs-lookup"><span data-stu-id="6d568-118">Because one column had text and numbers, it wasn't automatically converted.</span></span> <span data-ttu-id="6d568-119">Power BI často tyto změny zjistí a automaticky provede změnu datového typu.</span><span class="sxs-lookup"><span data-stu-id="6d568-119">Power BI often detects these changes and automatically changes the data type.</span></span> 

<span data-ttu-id="6d568-120">Potřebujeme, aby data měla číselnou podobu.</span><span class="sxs-lookup"><span data-stu-id="6d568-120">We need the data to be numbers.</span></span> <span data-ttu-id="6d568-121">Žádný problém: když budete chtít datový typ změnit, stačí pravým tlačítkem myši kliknout na záhlaví sloupce a vybrat \*\*Změnit typ \*\* Celé číslo\>.</span><span class="sxs-lookup"><span data-stu-id="6d568-121">No problem: just right-click the column header, and then select **Change Type \> Whole Number** to change the data type.</span></span> <span data-ttu-id="6d568-122">Pokud potřebujete změnit více než jeden sloupec, vyberte jeden z nich a při výběru dalších sousedících sloupců podržte klávesu **Shift**.</span><span class="sxs-lookup"><span data-stu-id="6d568-122">If you must change more than one column, select one of them, and then hold down the **Shift** key while you select additional adjacent columns.</span></span> <span data-ttu-id="6d568-123">Potom pravým tlačítkem myši klikněte na záhlaví sloupce, aby se všechny vybrané sloupce změnily.</span><span class="sxs-lookup"><span data-stu-id="6d568-123">Then right-click a column header to change all the selected columns.</span></span> <span data-ttu-id="6d568-124">Můžete také použít **Ctrl** k výběru nesousedících sloupců.</span><span class="sxs-lookup"><span data-stu-id="6d568-124">You can also use the **Ctrl** key to select non-adjacent columns.</span></span>

![Nastavení dotazů po dokončení](../media/pbid-clean-xform_02.png)

> [!NOTE]
> <span data-ttu-id="6d568-126">Power Query často detekuje, že sloupec textu by měl mít číselnou podobu, a při přenesení tabulky do editoru Power Query za vás datový typ automaticky změní.</span><span class="sxs-lookup"><span data-stu-id="6d568-126">Often, Power Query will detect that a column of text should be numbers, and will automatically change the data type when it brings the table into Power Query Editor.</span></span> <span data-ttu-id="6d568-127">V tomto případě krok ze seznamu **Použitý postup** identifikuje, co editor Power Query udělal za vás.</span><span class="sxs-lookup"><span data-stu-id="6d568-127">In this case, a step under **Applied steps** identifies what Power Query did for you.</span></span>

<span data-ttu-id="6d568-128">Tyto sloupce také můžete změnit nebo *transformovat* na záhlaví použitím karty **Transformace** na pásu karet.</span><span class="sxs-lookup"><span data-stu-id="6d568-128">You can also change, or *transform,* those columns from text to header by using the **Transform** tab on the ribbon.</span></span> <span data-ttu-id="6d568-129">Následující obrázek ukazuje kartu **Transformace**. Šipka ukazuje na tlačítko **Datový typ**, které umožňuje transformovat aktuální datový typ na jiný.</span><span class="sxs-lookup"><span data-stu-id="6d568-129">The following image shows the **Transform** tab. The arrow points to the **Data Type** button, which lets you transform the current data type to another.</span></span>

![Pás karet Transformace a tlačítko Datový typ](../media/pbid-clean-xform_02b.png)

<span data-ttu-id="6d568-131">Všimněte si, že seznam **Použitý postup** v podokně **Nastavení dotazů** odráží všechny provedené změny.</span><span class="sxs-lookup"><span data-stu-id="6d568-131">Notice that the **Applied Steps** list in the **Query Settings** pane reflects all the changes that were made.</span></span> <span data-ttu-id="6d568-132">Pokud chcete z postupu formování nějaký krok odebrat, stačí ho vybrat a potom nalevo od něj vybrat **X**.</span><span class="sxs-lookup"><span data-stu-id="6d568-132">To remove any step from the shaping process, just select it, and then select the **X** to the left of it.</span></span>

![Okno Nastavení dotazů](../media/pbid-clean-xform_03.png)

## <a name="connect-to-data"></a><span data-ttu-id="6d568-134">Připojení k datům</span><span class="sxs-lookup"><span data-stu-id="6d568-134">Connect to data</span></span>
<span data-ttu-id="6d568-135">Data o různých státech jsou zajímavá a budou užitečná při vytváření dalších analýz a dotazů.</span><span class="sxs-lookup"><span data-stu-id="6d568-135">That data about different states is interesting, and will be useful for building additional analysis efforts and queries.</span></span> <span data-ttu-id="6d568-136">Ale je tu problém: většina dat tady nepoužívá plný název státu, ale jenom jeho dvoupísmennou zkratku.</span><span class="sxs-lookup"><span data-stu-id="6d568-136">But there's one problem: most data out there uses a two-letter abbreviation for state codes, not the full name of the state.</span></span> <span data-ttu-id="6d568-137">Proto potřebujeme způsob, jak ke zkratkám států přidružit jejich plný název.</span><span class="sxs-lookup"><span data-stu-id="6d568-137">Therefore, we need some way to associate state names with their abbreviations.</span></span>

<span data-ttu-id="6d568-138">Máme štěstí. Existuje jiný veřejný zdroj dat, který dělá právě to, ale než ho budeme moct připojit k naší důchodové tabulce, je potřeba ho ještě dost upravit.</span><span class="sxs-lookup"><span data-stu-id="6d568-138">We're in luck: there's another public data source that does just that, but it needs a fair amount of shaping before we can connect it to our retirement table.</span></span> <span data-ttu-id="6d568-139">Tady je webový prostředek pro zkratky států na webu:</span><span class="sxs-lookup"><span data-stu-id="6d568-139">Here's the web resource for state abbreviations:</span></span>

<http://en.wikipedia.org/wiki/List_of_U.S._state_abbreviations>

<span data-ttu-id="6d568-140">V **editoru Power Query** vyberte na kartě **Domů** na pásu karet **Nový zdroj \> Web**.</span><span class="sxs-lookup"><span data-stu-id="6d568-140">In **Power Query Editor**, on the **Home** tab on the ribbon, select **New Source \> Web**.</span></span> <span data-ttu-id="6d568-141">Pak zadejte adresu a vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="6d568-141">Then enter the address, and select **OK**.</span></span> <span data-ttu-id="6d568-142">Okno **Navigátor** zobrazí, co na webové stránce našlo.</span><span class="sxs-lookup"><span data-stu-id="6d568-142">The **Navigator** window shows what it found on that webpage.</span></span>

![Zkratky států USA z webu](../media/pbid-clean-xform_04.png)

<span data-ttu-id="6d568-144">Vyberte tabulku **Kódy a zkratky...** (Codes and abbreviations), protože zahrnuje požadovaná data. Ale vyfiltrování dat si vyžádá hodně formování.</span><span class="sxs-lookup"><span data-stu-id="6d568-144">Select the **Codes and abbreviations...** table, because it includes the data we want, although it's going to take quite a bit of shaping to pare down that data.</span></span> 

<span data-ttu-id="6d568-145">Výběrem **OK** přeneseme data do **editoru Power Query**, abychom je mohli formovat.</span><span class="sxs-lookup"><span data-stu-id="6d568-145">Select **OK** to bring the data into **Power Query Editor** so that we can shape it.</span></span> <span data-ttu-id="6d568-146">Potom postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="6d568-146">Then follow these steps:</span></span>

* <span data-ttu-id="6d568-147">**Odeberte první tři řádky** – Tyto řádky odpovídají tomu, jak byla tabulka na webové stránce vytvořena, a k ničemu je nepotřebujeme.</span><span class="sxs-lookup"><span data-stu-id="6d568-147">**Remove the top three rows** – Those rows are a result of the way the webpage's table was created, and we don't need them.</span></span> <span data-ttu-id="6d568-148">Pokud je chcete odebrat, vyberte na kartě **Domů** na pásu karet **Odebrat řádky \> Odebrat horní řádky**.</span><span class="sxs-lookup"><span data-stu-id="6d568-148">To remove them, on the **Home** tab on the ribbon, select **Remove rows \> Remove Top Rows**.</span></span> <span data-ttu-id="6d568-149">V dialogovém okně, které se zobrazí, zadejte *3* jako počet řádků, které chcete odebrat.</span><span class="sxs-lookup"><span data-stu-id="6d568-149">In the dialog box that appears, enter *3* as the number of rows to remove.</span></span>

    ![Odebrání horních řádků](../media/pbid-clean-xform_04a.png)

* <span data-ttu-id="6d568-151">**Odeberte dolních 26 řádků** – Tyto řádky představují všechna teritoria, která nepotřebujeme zahrnout.</span><span class="sxs-lookup"><span data-stu-id="6d568-151">**Remove the bottom 26 rows** – Those rows are all for territories, which we don't need to include.</span></span> <span data-ttu-id="6d568-152">Postup je stejný, jenom tentokrát vyberete **Odebrat řádky \> Odebrat dolní řádky** a jako počet řádků k odebrání zadáte *26*.</span><span class="sxs-lookup"><span data-stu-id="6d568-152">The process is the same, but this time, select **Remove rows \> Remove Bottom Rows**, and enter *26* as the number of rows to remove.</span></span>

    ![Odebrat dolní řádky](../media/pbid-clean-xform_04b.png)

* <span data-ttu-id="6d568-154">**Vyfiltrujte Washington DC** – Tabulka důchodových statistik nezahrnuje DC, takže tento stát z našeho seznamu vyřadíme.</span><span class="sxs-lookup"><span data-stu-id="6d568-154">**Filter out Washington, DC** – The retirement stats table doesn't include Washington, DC, so we'll exclude it from our list.</span></span> <span data-ttu-id="6d568-155">Vyberte šipku rozevíracího seznamu vedle sloupce **Název a stav regionu2** a potom zrušte zaškrtnutí pro zaškrtávací políčko**Federální kraj**.</span><span class="sxs-lookup"><span data-stu-id="6d568-155">Select the drop-down arrow beside the **Name and status of region2** column, and then clear the **Federal district** check box.</span></span> 

    ![Odebrání řádku obsahujícího konkrétní hodnotu](../media/pbid-clean-xform_04c.png)

* <span data-ttu-id="6d568-157">**Odeberte pár nepotřebných sloupců** – Potřebujeme jenom mapování států na dvoupísmenné zkratky a tyto informace nám poskytne druhý a pátý sloupec.</span><span class="sxs-lookup"><span data-stu-id="6d568-157">**Remove a few unneeded columns** – We just need the mapping of each state to its official two-letter abbreviation, and that information is given in the second and fifth columns.</span></span> <span data-ttu-id="6d568-158">Proto potřebujeme zachovat jen tyto dva sloupce a všechny ostatní můžeme odebrat.</span><span class="sxs-lookup"><span data-stu-id="6d568-158">Therefore, we just need to keep those two columns and can remove all the others.</span></span> <span data-ttu-id="6d568-159">Vyberte první sloupec, který se má odebrat, při výběru ostatních sloupců k odebrání podržte klávesu Ctrl (tento postup umožňuje vybrat několik vzájemně nesousedících sloupců).</span><span class="sxs-lookup"><span data-stu-id="6d568-159">Select the first column to remove, and then hold down the Ctrl key while you select the other columns to remove (this lets you select multiple, non-adjacent columns).</span></span> <span data-ttu-id="6d568-160">Potom na kartě **Domů** na pásu karet vyberte **Odebrat sloupce \> Odebrat sloupce**.</span><span class="sxs-lookup"><span data-stu-id="6d568-160">Then, on the **Home** tab on the ribbon, select **Remove Columns \> Remove Columns**.</span></span>

    ![Odebrání konkrétních sloupců](../media/pbid-clean-xform_04d.png)

* <span data-ttu-id="6d568-162">**Použijte první řádek jako záhlaví** – Protože jsme odebrali první tři řádky, je aktuální horní řádek požadovaným záhlavím.</span><span class="sxs-lookup"><span data-stu-id="6d568-162">**Use the first row as headers** – Because we removed the top three rows, the current top row is the header we want.</span></span> <span data-ttu-id="6d568-163">Vyberte tlačítko **Použít první řádek jako záhlaví**.</span><span class="sxs-lookup"><span data-stu-id="6d568-163">Select the **Use first row as headers** button.</span></span>

    ![Použít první řádek jako záhlaví](../media/pbid-clean-xform_04e.png)

    > [!NOTE]
    > <span data-ttu-id="6d568-165">Teď je vhodné ukázat si, že *pořadí* použitých kroků v **editoru Power Query** je důležité a může ovlivnit výsledné naformování dat.</span><span class="sxs-lookup"><span data-stu-id="6d568-165">This is a good time to point out that the *sequence* of applied steps in **Power Query Editor** is important and can affect how the data is shaped.</span></span> <span data-ttu-id="6d568-166">Je také důležité vzít v úvahu, jak jeden krok může ovlivnit jiný následující krok.</span><span class="sxs-lookup"><span data-stu-id="6d568-166">It's also important to consider how one step might affect another subsequent step.</span></span> <span data-ttu-id="6d568-167">Pokud odeberete krok ze seznamu **Použitý postup**, následné kroky nemusí fungovat tak, jak jste původně zamýšleli, a to kvůli pořadí kroků v rámci dotazu.</span><span class="sxs-lookup"><span data-stu-id="6d568-167">If you remove a step from the **Applied Steps** list, subsequent steps might not behave as originally intended, because of the impact of the query's sequence of steps.</span></span>

* <span data-ttu-id="6d568-168">**Přejmenujte sloupce a samotnou tabulku** – Jako obvykle existuje několik způsobů, jak přejmenovat sloupec.</span><span class="sxs-lookup"><span data-stu-id="6d568-168">**Rename the columns and the table itself** – As usual, there are a couple ways to rename a column.</span></span> <span data-ttu-id="6d568-169">Můžete použít, jaký způsob chcete.</span><span class="sxs-lookup"><span data-stu-id="6d568-169">You can use whichever way you prefer.</span></span> <span data-ttu-id="6d568-170">Pojďme je přejmenovat na *Název státu* a *Kód státu*.</span><span class="sxs-lookup"><span data-stu-id="6d568-170">Let's rename them *State Name* and *State Code*.</span></span> <span data-ttu-id="6d568-171">Pokud chcete tabulku přejmenovat, stačí zadat požadovaný název do pole **Název** v podokně **Nastavení dotazů**.</span><span class="sxs-lookup"><span data-stu-id="6d568-171">To rename the table, just enter the name in the **Name** field in the **Query Settings** pane.</span></span> <span data-ttu-id="6d568-172">Celou tabulku nazveme *StateCodes* (KódyStátů).</span><span class="sxs-lookup"><span data-stu-id="6d568-172">Let's call this table *StateCodes*.</span></span>

    ![Přejmenování sloupců](../media/pbid-clean-xform_04f.png)

## <a name="combine-data"></a><span data-ttu-id="6d568-174">Kombinování dat</span><span class="sxs-lookup"><span data-stu-id="6d568-174">Combine data</span></span>

<span data-ttu-id="6d568-175">Když je teď tabulka **StateCodes** (KódyStátů) naformovaná, můžeme naše dvě tabulky zkombinovat do jedné.</span><span class="sxs-lookup"><span data-stu-id="6d568-175">Now that the **StateCodes** table is shaped, we can combine our two tables into one.</span></span> <span data-ttu-id="6d568-176">Protože tabulky, které teď máme, jsou výsledkem dotazů, které jsme použili na data, říká se jim často *dotazy*.</span><span class="sxs-lookup"><span data-stu-id="6d568-176">Because the tables that we now have are a result of the queries we applied to the data, they're often referred to as *queries*.</span></span>

<span data-ttu-id="6d568-177">Existují dva základní způsoby kombinování tabulek: *sloučení* a *připojení*.</span><span class="sxs-lookup"><span data-stu-id="6d568-177">There are two primary ways of combining queries: *merging* and *appending*.</span></span>

<span data-ttu-id="6d568-178">Když máte jeden nebo více sloupců, které chcete přidat k jinému dotazu, pak tyto dotazy **sloučíte**.</span><span class="sxs-lookup"><span data-stu-id="6d568-178">When you have one or more columns that you want to add to another query, you **merge** the queries.</span></span> <span data-ttu-id="6d568-179">Pokud máte další řádky dat, které chcete přidat ke stávajícímu dotazu, pak tento dotaz **připojíte**.</span><span class="sxs-lookup"><span data-stu-id="6d568-179">When you have additional rows of data to add to an existing query, you **append** the query.</span></span>

<span data-ttu-id="6d568-180">V tomto případě chceme dotazy sloučit.</span><span class="sxs-lookup"><span data-stu-id="6d568-180">In this case, we want to merge the queries.</span></span> <span data-ttu-id="6d568-181">Abyste mohli začít, vyberte dotaz, *se kterým* se má druhý dotaz sloučit.</span><span class="sxs-lookup"><span data-stu-id="6d568-181">To get started, select the query to merge the other query *into*.</span></span> <span data-ttu-id="6d568-182">Potom na kartě **Domů** na pásu karet vyberte **Sloučit dotazy**.</span><span class="sxs-lookup"><span data-stu-id="6d568-182">Then, on the **Home** tab on the ribbon, select **Merge Queries**.</span></span> <span data-ttu-id="6d568-183">Jako první chceme vybrat náš důchodový dotaz.</span><span class="sxs-lookup"><span data-stu-id="6d568-183">We want to select our retirement query first.</span></span> <span data-ttu-id="6d568-184">Když už u něj jsme, pojďme tento dotaz přejmenovat na *RetirementStats*.</span><span class="sxs-lookup"><span data-stu-id="6d568-184">While we're at it, let's rename that query *RetirementStats*.</span></span>

![Tlačítko Sloučit dotazy](../media/pbid-clean-xform_05.png)

<span data-ttu-id="6d568-186">Zobrazí se dialogové okno **Sloučit** s výzvou, abychom vybrali tabulku, kterou chceme sloučit s vybranou tabulkou, a potom sloupce, na základě kterých se má sloučení provést.</span><span class="sxs-lookup"><span data-stu-id="6d568-186">The **Merge** dialog box appears, prompting us to select the table to merge into the selected table, and the matching columns to use for the merge.</span></span> 

<span data-ttu-id="6d568-187">Vyberte **State** (Stát) z tabulky (dotazu) **RetirementStats** a pak vyberte dotaz **StateCodes** (KódyStátů).</span><span class="sxs-lookup"><span data-stu-id="6d568-187">Select **State** from the **RetirementStats** table (query), and then select the **StateCodes** query.</span></span> <span data-ttu-id="6d568-188">(V tomto případě je volba snadná, protože existuje jenom jeden další dotaz.</span><span class="sxs-lookup"><span data-stu-id="6d568-188">(In this case, the choice is easy, because there's only one other query.</span></span> <span data-ttu-id="6d568-189">Ale když se připojíte k mnoha zdrojům dat, bude mnoho dotazů na výběr.) Když vyberete správné odpovídající sloupce – **State** (Stát) z **RetirementStats** a **State Name** (Název státu) z **StateCodes** (KódyStátů) – dialogové okno **Sloučit** bude vypadat takto a tlačítko **OK** se zpřístupní.</span><span class="sxs-lookup"><span data-stu-id="6d568-189">But when you connect to many data sources, there will be many queries to choose from.) After you select the correct matching columns—**State** from **RetirementStats** and **State Name** from **StateCodes**—the **Merge** dialog box will look like this, and the **OK** button will become available.</span></span>

![Dialogové okno Sloučit](../media/pbid-clean-xform_06.png)

<span data-ttu-id="6d568-191">Na konci dotazu se vytvoří **NewColumn** a je to obsah tabulky (dotazu), který se sloučil se stávajícím dotazem.</span><span class="sxs-lookup"><span data-stu-id="6d568-191">A **NewColumn** is created at the end of the query and is the contents of the table (query) that was merged with the existing query.</span></span> <span data-ttu-id="6d568-192">V **NewColumn** jsou zhuštěné všechny sloupce ze sloučeného dotazu, ale můžete tabulku **rozbalit** a zahrnout sloupce, které chcete.</span><span class="sxs-lookup"><span data-stu-id="6d568-192">All columns from the merged query are condensed into the **NewColumn**, but you can **expand** the table and include whichever columns you want.</span></span> <span data-ttu-id="6d568-193">Pokud chcete rozbalit sloučenou tabulku a vybrat sloupce, které se mají zahrnout, vyberte ikonu rozbalení (![ikona rozbalení](../media/pbid-clean-xform_07.png)).</span><span class="sxs-lookup"><span data-stu-id="6d568-193">To expand the merged table and select the columns to include, select the expand icon (![expand icon](../media/pbid-clean-xform_07.png)).</span></span> <span data-ttu-id="6d568-194">Zobrazí se dialogové okno **Rozbalit**.</span><span class="sxs-lookup"><span data-stu-id="6d568-194">The **Expand** dialog box appears.</span></span>

![Dialogové okno Rozbalit](../media/pbid-clean-xform_08.png)

<span data-ttu-id="6d568-196">V tomto případě chceme jen sloupec **Kód státu**.</span><span class="sxs-lookup"><span data-stu-id="6d568-196">In this case, we just want the **State Code** column.</span></span> <span data-ttu-id="6d568-197">Proto vyberte pouze ten sloupec a pak vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="6d568-197">Therefore, select only that column, and then select **OK**.</span></span> <span data-ttu-id="6d568-198">Můžete také zrušit zaškrtnutí políčka **Používat původní název sloupce jako předponu**.</span><span class="sxs-lookup"><span data-stu-id="6d568-198">You can also clear the **Use original column name as prefix** check box.</span></span> <span data-ttu-id="6d568-199">Pokud je necháte zaškrtnuté, bude sloučený sloupec pojmenován *NewColumn.Kód státu* (původní název sloupce nebo *NewColumn*, potom tečka a pak název sloupce, který se má přenést do dotazu).</span><span class="sxs-lookup"><span data-stu-id="6d568-199">If you leave it selected, the merged column will be named *NewColumn.State Code* (the original column name, or *NewColumn*, then a dot, and then the name of the column that's being brought into the query).</span></span>

> [!NOTE]
> <span data-ttu-id="6d568-200">Pokud chcete, můžete si pohrát s tím, jak bude tabulka **NewColumn** přenesena.</span><span class="sxs-lookup"><span data-stu-id="6d568-200">If you want, you can play around with how the **NewColumn** table is brought in.</span></span> <span data-ttu-id="6d568-201">Pokud se vám výsledky nelíbí, stačí odstranit krok **Rozbalit** ze seznamu **Použitý postup** v podokně **Nastavení dotazů**.</span><span class="sxs-lookup"><span data-stu-id="6d568-201">If you don't like the results, just delete the **Expand** step from the **Applied Steps** list in the **Query Settings** pane.</span></span> <span data-ttu-id="6d568-202">Dotaz se vrátí do stavu, ve kterém se nacházel před použitím tohoto kroku.</span><span class="sxs-lookup"><span data-stu-id="6d568-202">Your query will return to the state it was in before you applied that step.</span></span> <span data-ttu-id="6d568-203">Je to jako bezplatná předělávka, kterou můžete udělat, kolikrát chcete, dokud proces rozbalení nebude vypadat tak, jak chcete.</span><span class="sxs-lookup"><span data-stu-id="6d568-203">It's like a free do-over that you can do as many times as you want, until the expand process looks the way you want.</span></span>

<span data-ttu-id="6d568-204">Teď máme jeden dotaz (tabulku) kombinující dva zdroje dat, které byly oba formované tak, aby vyhovovaly našim potřebám.</span><span class="sxs-lookup"><span data-stu-id="6d568-204">We now have a single query (table) that combines two data sources, each of which has been shaped to meet our needs.</span></span> <span data-ttu-id="6d568-205">Tento dotaz může sloužit jako základ pro spoustu dalších zajímavých datových připojení, jako jsou třeba statistika nákladů na bydlení, demografické údaje nebo pracovní příležitosti v libovolném státu.</span><span class="sxs-lookup"><span data-stu-id="6d568-205">This query can serve as a basis for lots of additional, interesting data connections, like housing cost statistics, demographics, or job opportunities in any state.</span></span>

<span data-ttu-id="6d568-206">Pokud chcete změny v **editoru Power Query** použít a načíst je do Power BI Desktopu, vyberte možnost **Zavřít a použít** na kartě **Domů** na pásu karet.</span><span class="sxs-lookup"><span data-stu-id="6d568-206">To apply the changes in **Power Query Editor** and load them into Power BI Desktop, select **Close & Apply** on the **Home** tab on the ribbon.</span></span>

![Zavření a použití nastavení dat](../media/pbid-clean-xform_09.png)

<span data-ttu-id="6d568-208">Teď jsou data ve vašem modelu připravená k dalšímu zpracování.</span><span class="sxs-lookup"><span data-stu-id="6d568-208">The data in your model is now ready to work with.</span></span> <span data-ttu-id="6d568-209">V dalším kroku vytvoříme pro vaši sestavu nějaké vizuály.</span><span class="sxs-lookup"><span data-stu-id="6d568-209">Next, we'll create some visuals for your report.</span></span>

<span data-ttu-id="6d568-210">Prozatím máte dostatek dat pro vytvoření několika zajímavých sestav, a to všechno v rámci Power BI Desktopu.</span><span class="sxs-lookup"><span data-stu-id="6d568-210">For now, we have enough data to create a few interesting reports, all in Power BI Desktop.</span></span> <span data-ttu-id="6d568-211">Protože se jedná o milník, pojďme tento soubor Power BI Desktopu uložit.</span><span class="sxs-lookup"><span data-stu-id="6d568-211">Because this is a milestone, let's save this Power BI Desktop file.</span></span> <span data-ttu-id="6d568-212">Výběrem možností **Soubor \> Uložit** na kartě **Domů** na pásu karet sestavu uložte – nazveme ji **Začínáme s Power BI Desktopem**.</span><span class="sxs-lookup"><span data-stu-id="6d568-212">Select **File \> Save** on the **Home** tab on the ribbon to save the report—we'll call it **Getting Started with Power BI Desktop**.</span></span>

<span data-ttu-id="6d568-213">Výborně!</span><span class="sxs-lookup"><span data-stu-id="6d568-213">Great!</span></span> <span data-ttu-id="6d568-214">A teď můžeme přejít k další jednotce, kde vytvoříme pár zajímavých vizuálů.</span><span class="sxs-lookup"><span data-stu-id="6d568-214">Now on to the next unit, where we'll create some interesting visuals.</span></span>
